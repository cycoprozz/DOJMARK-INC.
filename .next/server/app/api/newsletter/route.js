(()=>{var e={};e.id=5103,e.ids=[5103],e.modules={3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4449:(e,r,t)=>{"use strict";t.d(r,{_8:()=>c,$G:()=>a});var s=t(65340);let i=["NEXT_PUBLIC_SUPABASE_URL","NEXT_PUBLIC_SUPABASE_ANON_KEY"];function o(){let e=[];for(let r of i)process.env[r]&&process.env[r]!==`placeholder-${r.toLowerCase()}`||e.push(r);return e.length>0&&console.warn(`⚠️  Missing environment variables (using demo mode): ${e.join(", ")}`),{supabaseUrl:"https://smtwxamyxcxhxpjumoau.supabase.co",supabaseAnonKey:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InNtdHd4YW15eGN4aHhwanVtb2F1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTQ3MTg5MTUsImV4cCI6MjA3MDI5NDkxNX0.Ph4UQy4tCVOp-gNoT8e1cBPXOeQODIcS3wqbBI769g0",supabaseServiceRoleKey:process.env.SUPABASE_SERVICE_ROLE_KEY,nodeEnv:"production",isDevelopment:!1,isProduction:!0}}let u=o();(0,s.UU)(u.supabaseUrl,u.supabaseAnonKey);let n=u.supabaseServiceRoleKey?(0,s.UU)(u.supabaseUrl,u.supabaseServiceRoleKey):null,a=()=>(function(){try{let e=o();return"https://placeholder.supabase.co"!==e.supabaseUrl&&"placeholder-anon-key"!==e.supabaseAnonKey}catch{return!1}})();function c(){if(!n)throw Error("Supabase admin client is not configured. Missing SUPABASE_SERVICE_ROLE_KEY.");return n}},7668:(e,r,t)=>{"use strict";t.r(r),t.d(r,{patchFetch:()=>O,routeModule:()=>S,serverHooks:()=>A,workAsyncStorage:()=>U,workUnitAsyncStorage:()=>N});var s={};t.r(s),t.d(s,{DELETE:()=>E,GET:()=>v,HEAD:()=>_,OPTIONS:()=>g,PATCH:()=>b,POST:()=>w,PUT:()=>y,dynamic:()=>d,revalidate:()=>l});var i=t(15043),o=t(35964),u=t(14707),n=t(63033),a=t(49490),c=t(4449),p=t(68575);let d="force-static",l=!1;async function x(e){try{let{email:r,name:t}=await e.json();if(!r)return a.NextResponse.json({error:"Email is required"},{status:400});if(!(0,c.$G)())return a.NextResponse.json({message:"Subscription successful (demo mode)",data:{id:"demo-id",email:r,name:t}},{status:201});let s=(0,c._8)(),{data:i}=await s.from("newsletter_subscriptions").select("id, status").eq("email",r).single();if(i)if("active"===i.status)return a.NextResponse.json({message:"Email already subscribed"},{status:200});else{let{data:e,error:r}=await s.from("newsletter_subscriptions").update({status:"active"}).eq("id",i.id).select().single();if(r)throw r;return a.NextResponse.json({message:"Subscription reactivated successfully",data:e},{status:200})}let{data:o,error:u}=await s.from("newsletter_subscriptions").insert([{email:r,name:t,status:"active"}]).select().single();if(u)throw u;return a.NextResponse.json({message:"Subscription successful",data:o},{status:201})}catch(e){return a.NextResponse.json({error:"Failed to subscribe to newsletter"},{status:500})}}async function m(e){try{let{searchParams:r}=new URL(e.url),t=r.get("email");if(!t)return a.NextResponse.json({error:"Email is required"},{status:400});let s=(0,c._8)(),{data:i,error:o}=await s.from("newsletter_subscriptions").update({status:"unsubscribed"}).eq("email",t).select().single();if(o)throw o;return a.NextResponse.json({message:"Unsubscribed successfully",data:i},{status:200})}catch(e){return a.NextResponse.json({error:"Failed to unsubscribe from newsletter"},{status:500})}}let q={...n},h="workUnitAsyncStorage"in q?q.workUnitAsyncStorage:"requestAsyncStorage"in q?q.requestAsyncStorage:void 0;function f(e,r){return"phase-production-build"===process.env.NEXT_PHASE||"function"!=typeof e?e:new Proxy(e,{apply:(e,t,s)=>{let i;try{let e=h?.getStore();i=e?.headers}catch{}return p.wrapRouteHandlerWithSentry(e,{method:r,parameterizedRoute:"/api/newsletter",headers:i}).apply(t,s)}})}let v=f(void 0,"GET"),w=f(x,"POST"),y=f(void 0,"PUT"),b=f(void 0,"PATCH"),E=f(m,"DELETE"),_=f(void 0,"HEAD"),g=f(void 0,"OPTIONS"),S=new i.AppRouteRouteModule({definition:{kind:o.RouteKind.APP_ROUTE,page:"/api/newsletter/route",pathname:"/api/newsletter",filename:"route",bundlePath:"app/api/newsletter/route"},resolvedPagePath:"/Users/user/Documents/GitHub/DOJMARK-INC./src/app/api/newsletter/route.ts",nextConfigOutput:"export",userland:s}),{workAsyncStorage:U,workUnitAsyncStorage:N,serverHooks:A}=S;function O(){return(0,u.patchFetch)({workAsyncStorage:U,workUnitAsyncStorage:N})}},8086:e=>{"use strict";e.exports=require("module")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},11997:e=>{"use strict";e.exports=require("punycode")},19063:e=>{"use strict";e.exports=require("require-in-the-middle")},19771:e=>{"use strict";e.exports=require("process")},21820:e=>{"use strict";e.exports=require("os")},27910:e=>{"use strict";e.exports=require("stream")},28354:e=>{"use strict";e.exports=require("util")},29021:e=>{"use strict";e.exports=require("fs")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31421:e=>{"use strict";e.exports=require("node:child_process")},33873:e=>{"use strict";e.exports=require("path")},36686:e=>{"use strict";e.exports=require("diagnostics_channel")},37067:e=>{"use strict";e.exports=require("node:http")},38522:e=>{"use strict";e.exports=require("node:zlib")},41692:e=>{"use strict";e.exports=require("node:tls")},44708:e=>{"use strict";e.exports=require("node:https")},44725:e=>{function r(e){var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}r.keys=()=>[],r.resolve=r,r.id=44725,e.exports=r},44870:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},48161:e=>{"use strict";e.exports=require("node:os")},53053:e=>{"use strict";e.exports=require("node:diagnostics_channel")},55511:e=>{"use strict";e.exports=require("crypto")},55591:e=>{"use strict";e.exports=require("https")},56801:e=>{"use strict";e.exports=require("import-in-the-middle")},57075:e=>{"use strict";e.exports=require("node:stream")},57975:e=>{"use strict";e.exports=require("node:util")},62992:e=>{function r(e){var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}r.keys=()=>[],r.resolve=r,r.id=62992,e.exports=r},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},73024:e=>{"use strict";e.exports=require("node:fs")},73566:e=>{"use strict";e.exports=require("worker_threads")},74075:e=>{"use strict";e.exports=require("zlib")},74998:e=>{"use strict";e.exports=require("perf_hooks")},75919:e=>{"use strict";e.exports=require("node:worker_threads")},76760:e=>{"use strict";e.exports=require("node:path")},77030:e=>{"use strict";e.exports=require("node:net")},78335:()=>{},79551:e=>{"use strict";e.exports=require("url")},79646:e=>{"use strict";e.exports=require("child_process")},80481:e=>{"use strict";e.exports=require("node:readline")},81630:e=>{"use strict";e.exports=require("http")},83997:e=>{"use strict";e.exports=require("tty")},84297:e=>{"use strict";e.exports=require("async_hooks")},85853:e=>{function r(e){var r=Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}r.keys=()=>[],r.resolve=r,r.id=85853,e.exports=r},86592:e=>{"use strict";e.exports=require("node:inspector")},94735:e=>{"use strict";e.exports=require("events")},96487:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[6823,8575,816,5340],()=>t(7668));module.exports=s})();